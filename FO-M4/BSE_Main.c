//------------------------------------------------------------------------------------
// BSE_Main
//------------------------------------------------------------------------------------
//
// AUTH: Farineau Camille - Ngattai Lam Prince
// DATE: 07/10/2015
// Target: C8051F020
//
// Tool chain: KEIL PK51
//
//-----------------------------------------------------------------------------------
// Includes
//------------------------------------------------------------------------------------
#include <LIB_BSE_GPIO.h>
#include <LIB_BSE_Config_Globale.h> 
#include <LIB_BSE_ADC.h>
#include <stdio.h>
#include <stdlib.h>
//-----------------------------------------------------------------------------
// Function PROTOTYPES
//-----------------------------------------------------------------------------

//------------------------------------------------------------------------------------
// DEFINE
//------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------
// Global CONSTANTS
//------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------
// MAIN Routine  NE PAS MODIFIER CETTE FONCTION!!
//------------------------------------------------------------------------------------


// QQES WARNINGS SUBSISTENT MAIS N'IMPLIQUE QUE DES FONCTIONS NON APPELEES
void main (void) {
	
	//unsigned char Tension;
	float Distance;
	// Fonctions de configurations et mises en place des interruptions
	Init_Device ();
	Config_GPIO ();
	CFG_ADC0();
	CFG_VREF();
	EA=1;
	
	
	
	while(1)
		{
			if( P2__2==0){
				float Tension1=ACQ_ADC();
				Distance=Conversion(Tension1);
			}
		}


}

  